import{r as b,o as d,c as p,a as o,t as a,w as M,b as n,v as r,d as _,F as k,e as U,f as $,n as A,g as B,h as C,i as N,j as T}from"./runtime-dom.esm-bundler-B9a5nMVl.js";const P={class:"page"},O={class:"head"},D={class:"status"},E={class:"box web-box"},F={class:"web-panel"},L={class:"filter-grid"},I={class:"field"},R={class:"field"},q={class:"field"},G={class:"field"},H={class:"field"},J={class:"field"},Q={class:"field"},W={class:"field"},X={class:"actions"},Y=["disabled"],Z={class:"list-panel"},tt={class:"item-meta"},ot={class:"content"},et={class:"card-foot"},st=["href"],lt={key:0,class:"empty"},it={class:"pager"},at={class:"meta"},nt={class:"pager-actions"},rt=["disabled","onClick"],dt={class:"size-field"},pt={__name:"App",setup(ut){const w=[{id:1001,sourceUrl:"https://example.com/item/1001",contentBlock:`【西湖区】初二学生找数学家教。
每周三次晚间辅导。
目标：期末总分提升 30 分。`,publishedAt:"2026-02-17T20:35:00"},{id:1002,sourceUrl:"https://example.com/item/1002",contentBlock:`【滨江区】高一英语辅导。
周末上午可上课。
希望老师有带毕业班经验。`,publishedAt:"2026-02-17T18:10:00"}],s=C({pageNo:1,pageSize:20,sortOrder:"desc",contentKeyword:"",gradeKeyword:"",subjectKeyword:"",addressKeyword:"",timeKeyword:"",salaryKeyword:"",teacherKeyword:""}),v=b(w),c=b(!1),g=b("请输入筛选条件后按回车或点击“应用筛选”"),u=b(w.length),y=N(()=>Math.max(1,Math.ceil(u.value/s.pageSize))),S=N(()=>{const i=s.pageNo,t=y.value;if(t<=7)return Array.from({length:t},(m,z)=>z+1);const e=[1];let l=Math.max(2,i-1),f=Math.min(t-1,i+1);i<=3?(l=2,f=4):i>=t-2&&(l=t-3,f=t-1),l>2&&e.push("...");for(let m=l;m<=f;m+=1)e.push(m);return f<t-1&&e.push("..."),e.push(t),e});function V(i){return i?String(i).replace("T"," ").slice(0,16):"--"}function x(){const i=new URLSearchParams;return Object.entries(s).forEach(([t,e])=>{const l=String(e??"").trim();l!==""&&i.set(t,l)}),i}async function h(){var i,t;c.value=!0;try{const e=await fetch(`/h5/tutoring-info/page?${x().toString()}`),l=await e.json();if(!e.ok||!(l!=null&&l.success))throw new Error((l==null?void 0:l.message)||"接口返回异常");v.value=((i=l==null?void 0:l.data)==null?void 0:i.records)||[],u.value=Number(((t=l==null?void 0:l.data)==null?void 0:t.total)||0),g.value=`加载成功：第 ${s.pageNo} 页 / 共 ${y.value} 页 · 共 ${u.value} 条`}catch(e){v.value=[],u.value=0,g.value=`请求失败：${e.message}`}finally{c.value=!1}}function K(){s.pageNo=1,h()}function j(i){typeof i!="number"||i===s.pageNo||(s.pageNo=i,h())}return(i,t)=>(d(),p("main",P,[o("header",O,[t[9]||(t[9]=o("div",null,[o("h1",{class:"title"},"杭州家教信息")],-1)),o("p",D,a(g.value),1)]),o("section",E,[t[22]||(t[22]=o("div",{class:"box-head"},[o("span",null,"家教筛选与列表"),o("span",{class:"tag"},"desktop")],-1)),o("div",F,[o("form",{class:"filter-form",onSubmit:M(K,["prevent"])},[o("div",L,[o("div",I,[t[10]||(t[10]=o("label",{class:"label",for:"content-filter"},"内容筛选",-1)),n(o("input",{id:"content-filter","onUpdate:modelValue":t[0]||(t[0]=e=>s.contentKeyword=e),list:"content-options",placeholder:"可输入任意内容"},null,512),[[r,s.contentKeyword]])]),o("div",R,[t[11]||(t[11]=o("label",{class:"label",for:"grade-filter"},"年级筛选",-1)),n(o("input",{id:"grade-filter","onUpdate:modelValue":t[1]||(t[1]=e=>s.gradeKeyword=e),list:"grade-options",placeholder:"可选或自定义"},null,512),[[r,s.gradeKeyword]])]),o("div",q,[t[12]||(t[12]=o("label",{class:"label",for:"subject-filter"},"科目筛选",-1)),n(o("input",{id:"subject-filter","onUpdate:modelValue":t[2]||(t[2]=e=>s.subjectKeyword=e),list:"subject-options",placeholder:"可选或自定义"},null,512),[[r,s.subjectKeyword]])]),o("div",G,[t[13]||(t[13]=o("label",{class:"label",for:"address-filter"},"地址筛选",-1)),n(o("input",{id:"address-filter","onUpdate:modelValue":t[3]||(t[3]=e=>s.addressKeyword=e),list:"address-options",placeholder:"杭州各区"},null,512),[[r,s.addressKeyword]])]),o("div",H,[t[14]||(t[14]=o("label",{class:"label",for:"time-filter"},"时间筛选",-1)),n(o("input",{id:"time-filter","onUpdate:modelValue":t[4]||(t[4]=e=>s.timeKeyword=e),placeholder:"例如：周末、晚间"},null,512),[[r,s.timeKeyword]])]),o("div",J,[t[15]||(t[15]=o("label",{class:"label",for:"salary-filter"},"薪资筛选",-1)),n(o("input",{id:"salary-filter","onUpdate:modelValue":t[5]||(t[5]=e=>s.salaryKeyword=e),placeholder:"例如：200-300"},null,512),[[r,s.salaryKeyword]])]),o("div",Q,[t[16]||(t[16]=o("label",{class:"label",for:"teacher-filter"},"教员筛选",-1)),n(o("input",{id:"teacher-filter","onUpdate:modelValue":t[6]||(t[6]=e=>s.teacherKeyword=e),placeholder:"例如：在职教师"},null,512),[[r,s.teacherKeyword]])]),o("div",W,[t[18]||(t[18]=o("label",{class:"label",for:"sort-filter"},"发布时间排序",-1)),n(o("select",{id:"sort-filter","onUpdate:modelValue":t[7]||(t[7]=e=>s.sortOrder=e)},[...t[17]||(t[17]=[o("option",{value:"desc"},"最新优先",-1),o("option",{value:"asc"},"最早优先",-1)])],512),[[_,s.sortOrder]])])]),o("div",X,[o("button",{type:"submit",class:"btn-primary",disabled:c.value},a(c.value?"加载中...":"应用筛选"),9,Y)])],32),o("section",Z,[(d(!0),p(k,null,U(v.value,e=>(d(),p("article",{key:e.id,class:"item"},[o("div",tt,[o("span",null,"ID #"+a(e.id),1),o("span",null,a(V(e.publishedAt)),1)]),o("p",ot,a(e.contentBlock),1),o("div",et,[t[19]||(t[19]=o("span",null,null,-1)),o("a",{href:e.sourceUrl,target:"_blank",rel:"noreferrer",class:"link"},"查看原文",8,st)])]))),128)),v.value.length?$("",!0):(d(),p("p",lt,"暂无匹配结果，请调整筛选条件。"))]),o("footer",it,[o("p",at,"第 "+a(s.pageNo)+" 页 / 共 "+a(y.value)+" 页 · 共 "+a(u.value)+" 条",1),o("div",nt,[(d(!0),p(k,null,U(S.value,e=>(d(),p("button",{key:`p-${e}`,class:A(["page-btn",{active:e===s.pageNo,dots:e==="..."}]),disabled:e==="...",onClick:l=>j(e)},a(e),11,rt))),128))]),o("div",dt,[t[21]||(t[21]=o("span",{class:"size-title"},"每页展示",-1)),n(o("select",{id:"size-filter",class:"size-select","onUpdate:modelValue":t[8]||(t[8]=e=>s.pageSize=e),onChange:K},[...t[20]||(t[20]=[o("option",{value:20},"20 条",-1),o("option",{value:50},"50 条",-1),o("option",{value:100},"100 条",-1)])],544),[[_,s.pageSize,void 0,{number:!0}]])])])])]),t[23]||(t[23]=B('<datalist id="content-options"><option value="数学提分"></option><option value="英语口语"></option><option value="全科作业"></option></datalist><datalist id="grade-options"><option value="一年级"></option><option value="二年级"></option><option value="三年级"></option><option value="四年级"></option><option value="五年级"></option><option value="六年级"></option><option value="初一"></option><option value="初二"></option><option value="初三"></option><option value="高一"></option><option value="高二"></option><option value="高三"></option></datalist><datalist id="subject-options"><option value="语文"></option><option value="数学"></option><option value="英语"></option><option value="物理"></option><option value="化学"></option><option value="生物"></option><option value="历史"></option><option value="地理"></option><option value="政治"></option></datalist><datalist id="address-options"><option value="上城区"></option><option value="拱墅区"></option><option value="西湖区"></option><option value="滨江区"></option><option value="钱塘区"></option><option value="萧山区"></option><option value="余杭区"></option><option value="临平区"></option><option value="富阳区"></option><option value="临安区"></option></datalist>',4))]))}};T(pt).mount("#app");
